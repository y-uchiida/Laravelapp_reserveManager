# モデルクラスのアクセサ、ミューテタ

## アクセサ
以下、Readouble より引用
```
アクセサは、Eloquentの属性値にアクセスが合った時に、その値を変換するものです。
アクセサを定義するには、アクセス可能な属性を表すprotectedなメソッドをモデル上に作成します。
このメソッド名は、裏に存在するモデル属性やデータベースカラムの「キャメルケース」表現に対応させる必要があります。

すべてのアクセサメソッドはAttributeインスタンスを返します。
このインスタンスは、属性にアクセスする方法と、オプションとして変異させる方法を定義します。
この例では、属性にアクセスする方法のみを定義しています。そのために、Attribute クラスのコンストラクタにget 引数を与えます。
```

モデル経由で、該当テーブルのカラムの値を加工するしくみのこと  

### アクセサの記述例
Laravel 8.x系と 9.x 系で記述方法が変わっているので注意  
9.x 系では、Attribute インスタンスを返すメソッドとして実装する  
また、アロー関数を用いた記述方法になっている
```php
/* app/Models/Event.php */

    /**
     * start_date カラムから、イベント実施の日付を取得する
     */
    protected function eventDate(): Attribute
    {
        return new Attribute(
            /* Attribute クラスのコンストラクタに get 引数を与える(アロー関数で無名関数を渡す) */
            get: fn() => Carbon::parse($this->start_date)->format('Y/m/d')
        );
    }
```
